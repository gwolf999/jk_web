<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>测试回调函数2</title>
</head>

<body>
    <button id="score" value="0">score</button>
</body>
<script>
function fun(num, callback) {
    console.log(0);
    if (num < 0) {

        alert("调用 A 层函数处理!");

        alert("数据不能为负, 输入错误!");

    } else if (num == 0) {

        alert("调用 A 层函数处理!");

        alert("该数据项不存在！");
        callback(0);

    } else {

        alert("调用 B 层函数处理!");
         console.log(1);

        callback(1);


    }

}
/*重点理解：test()调用后，把fun(num, function(back){});分别当成两个参数传入第一个函数fun去执行。一般依据参数会先执行num第一个参数，运行到最后callback(1);这个语句其实就是要执行第二个传入的函数参数，1就是反过来赋值给传进来的函数中back；*/

function test() {
    
    var num = document.getElementById("score").value;
    fun(num, function(back) { // 匿名 B 层处理函数         　　　　
        alert("test->num:" + back);
        console.log("test->num:" + back);
        if (num < 2) {
            alert("数字为 1");
            console.log("数字为 1");
        } else if (num <= 3) {
            alert("数字为 2 或 3！");
            console.log("数字为 2 或 3！");
        } else {
            alert("数字大于 3!");
            console.log("数字大于 3!");
        }

    })
}
test();
</script>

</html>
